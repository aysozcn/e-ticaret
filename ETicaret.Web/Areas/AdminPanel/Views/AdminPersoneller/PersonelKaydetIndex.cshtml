@using ETicaret.Core.DTO
@model GetPersonellerWithKullanicilarDTO

<div class="content-header">
	<div class="container-fluid">
		<div class="row mb-2">
			<div class="col-sm-6">
			</div>
			<div class="col-sm-6">
				<ol class="breadcrumb float-sm-right">
					<li class="breadcrumb-item"><a href="~/AdminPanel/Personeller/PersonellerIndex">Personel Listesi</a></li>
					<li class="breadcrumb-item active">Personel Ekle</li>
				</ol>
			</div><!-- /.col -->
		</div><!-- /.row -->
	</div><!-- /.container-fluid -->
</div>
<!-- /.content-header -->
<!-- Main content -->

<section class="content">
	<div class="container-fluid">
		<div class="row">
			<!-- left column -->
			<div class="col-md-12">
				<!-- jquery validation -->
				<div class="card card-primary">
					<div class="card-header">
						<h3 class="card-title">Personel EKLE</h3>
					</div>
					<!-- /.card-header -->
					<!-- form start -->
					<form asp-action="PersonelKaydetIndex" id="PersonelKayetIndex" asp-controller="Personeller" method="post">

						<div class="card-body">

							<div class="form-group">
								<label asp-for="PersonelAdi">Personel Adı</label>
							    <input type="text" name="PersonelAdi" asp-for="PersonelAdi" class="form-control" placeholder="Persaoenl Adı"/>
								<span class="text-danger" asp-validation-for="PersonelAdi"></span>
							</div>

							<div class="form-group">
								<label asp-for="PersonelSoyadi">Personel Soyadı</label>
								<input type="text" name="PersonelSoyadi" asp-for="PersonelSoyadi" class="form-control" placeholder="Persaonel Adı" />
								<span class="text-danger" asp-validation-for="PersonelSoyadi"></span>
							</div>

							<div class="form-group">
								<label asp-for="Cinsiyet">Cinsiyet</label>
								<input type="text" name="Cinsiyet" asp-for="Cinsiyet" class="form-control" placeholder="Cinsiyet Alanı" />
								<span class="text-danger" asp-validation-for="Cinsiyet"></span>
							</div>

							<div class="form-group">
								<label asp-for="PersonelMaasi">Personel Maaşı</label>
								<input type="text" name="PersonelMaasi" asp-for="PersonelMaasi" class="form-control" placeholder="Persaonel Maaşı" />
								<span class="text-danger" asp-validation-for="PersonelMaasi"></span>
							</div>

							<div class="form-group">
								<label asp-for="MaasOdemeTarih">Maaş Ödeme Tarihi</label>
								<input type="text" name="MaasOdemeTarih" asp-for="MaasOdemeTarih" class="form-control" placeholder="Maaş Ödeme Tarihi" />
								<span class="text-danger" asp-validation-for="MaasOdemeTarih"></span>
							</div>

							<div class="form-group">
								<label asp-for="MedeniHali">Medeni Hali</label>
								<input type="text" name="MedeniHali" asp-for="MedeniHali" class="form-control" placeholder="Persaoenl medeni hali" />
								<span class="text-danger" asp-validation-for="MedeniHali"></span>
							</div>

							<div class="form-group">
								<label asp-for="CalistigiFirma">Çalıştığı Firma</label>
								<input type="text" name="CalistigiFirma" asp-for="CalistigiFirma" class="form-control" placeholder="CalistigiFirma" />
								<span class="text-danger" asp-validation-for="CalistigiFirma"></span>
							</div>

							<div class="form-group">
								<label asp-for="Hakkinda">Hakkında</label>
								<input type="text" name="Hakkinda" asp-for="Hakkinda" class="form-control" placeholder="Personel hakkında alanı" />
								<span class="text-danger" asp-validation-for="Hakkinda"></span>
							</div>


							<div class="form-group">
								<label asp-for="YasadigiSehir">Personel yaşadığı şehir</label>
								<input type="text" name="YasadigiSehir" asp-for="YasadigiSehir" class="form-control" placeholder="Yaşadığı şehir alanı" />
								<span class="text-danger" asp-validation-for="YasadigiSehir"></span>
							</div>

							<div class="form-group">
								<label asp-for="KullaniciBilgileriId">Kullanıcı bilgileri ID </label>
								<input type="text" name="KullaniciBilgileriId" asp-for="KullaniciBilgileriId" class="form-control" placeholder="Personel bilgi Id alanı" />
								<span class="text-danger" asp-validation-for="KullaniciBilgileriId"></span>
							</div>


							<div class="form-group">
								<label asp-for="KullaniciId">Kullanıcı Adı Soyadı Seçiniz</label>
								<select asp-for="KullaniciId" asp-items="@(new SelectList(ViewBag.kullanicilar, "Id", "KullaniciAdSoyad"))" class="form-control">
									<option selected>Seçiniz...</option>
									@foreach (var item in ViewBag.kullanicilar)
									{
										<option value="@item.Id">@item.Adi @item.Soyadi</option>
									}
								</select>
								<span asp-validation-for="KullaniciId" class="text-danger"></span>
							</div>

						</div>

						<div class="card-footer">
							<input type="submit" class="btn btn-success" value="Personel Kaydet"/>
						</div>
						<div>
							@Html.Raw(ViewBag.mesaj)
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</section>

@section addBottomLibrary {

	<script src="~/AdminLTE/plugins/jquery-validation/jquery.validate.js"></script>
	<script>
		$(function () {

			$('#PersonelKaydetIndex').validate({
				rules: {
					Adi: {
						required: true
					},
					Soyadi: {
						required: true
					},
					Email: {
						required: true
					},
					PersonelMi: {
						required: true
					},
					YetkiId: {
						required: true
					}

				},
				messages: {
					Adi: {
						required: "Kullanıcı Adı alanı zorunludur"
					},
					Soyadi: {
						required: "Kullanıcı Soyadı alanı zorunludur"
					},
					Email: {
						required: "Kullanıcı Email alanı zorunludur"
					},
					PersonelMi: {
						required: "Personel mi değil mi alanı zorunludur"
					},
					YetkiId: {
						required: "Yetki Adı Seçiniz alanı zorunludur"
					}
				},
				errorElement: 'span',
				errorPlacement: function (error, element) {
					error.addClass('invalid-feedback');
					element.closest('.form-group').append(error);
				},
				highlight: function (element, errorClass, validClass) {
					$(element).addClass('is-invalid');
				},
				unhighlight: function (element, errorClass, validClass) {
					$(element).removeClass('is-invalid');
				}
			});
		});

	</script>
}